const path = require("path");
const fs = require("fs");

const entryPoints = [
  "dist/server.js",
  "dist/src/server.js",
  "dist/index.js",
  "dist/src/index.js",
];

for (const entry of entryPoints) {
  const full = path.join(__dirname, entry);
  if (fs.existsSync(full)) {
    console.log("Starting server", full);
    require(full);
    return;
  }
}

console.error("No compiled server entry found. Tried:", entryPoints);
process.exit(1);
